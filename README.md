# 前端字幕截圖工具 📸

一個純前端的影片字幕截圖工具，可以從影片中批次擷取截圖並搭配對應時間段的字幕，適用於製作學習筆記、字幕卡片等用途。

## 🌟 功能特色

### 核心功能
- **影片載入**：支援本地 MP4/WebM 檔案上傳
- **字幕解析**：支援 SRT 和 VTT 格式字幕檔
- **批次截圖**：依據設定的時間間隔自動擷取多張截圖
- **智慧換行**：中文字幕支援依標點符號智慧斷行
- **選擇性下載**：可選擇特定截圖進行批次下載
- **智慧命名**：基於 SRT/影片檔名的順序編號系統
- **一鍵打包**：支援 ZIP 批次下載功能

### 三種輸出模式
1. **模式 1 - 疊加字幕**：將字幕直接繪製在截圖上，帶有黑色半透明背景
2. **模式 2 - 分欄字幕**：截圖與字幕分開顯示，上下排列呈現
3. **模式 3 - 文章卡片樣式** ⭐：精美的卡片設計，支援即時編輯功能

### 模式 3 獨有特色
- **可編輯標題**：每張卡片都可單獨自定義標題
- **動態隱藏**：清空標題時自動隱藏標題區域和橫線
- **即時調整**：圖片區域會根據標題狀態自動調整間距
- **自適應橫線**：橫線長度自動匹配標題寬度
- **主題自訂**：可調整主題色彩和字體大小
- **內容編輯**：可直接編輯字幕內容並更新卡片

## 🚀 快速開始

### 線上使用
1. **推薦使用**：開啟 `main.html`（最新功能）
2. **標準版本**：開啟 `index.html`（穩定版本）
3. **功能演示**：開啟 `demo_notitle.html`（查看新功能）

### 本地開發
```bash
# 啟動測試伺服器
python3 -m http.server 8080

# 或使用任何靜態檔案服務器
# 然後訪問 http://localhost:8080/main.html
```

## 📖 使用說明

### 1. 載入影片
- 點擊「上傳影片檔」按鈕選擇 MP4 或 WebM 格式的影片
- 影片載入後會顯示播放器供預覽

### 2. 載入字幕
- 點擊「上傳字幕檔」按鈕選擇 SRT 或 VTT 格式的字幕檔
- 系統會顯示已載入的字幕數量

### 3. 設定擷取參數
- **起始時間**：設定開始擷取的時間點（格式：hh:mm:ss）
- **擷取間隔**：設定每張截圖間的時間間隔（單位：秒）
- **模式選擇**：選擇字幕的呈現方式

#### 模式 3 專屬設定
- **🏷️ 卡片標題**：自定義標題或留空隱藏標題區域
- **🎨 主題色彩**：選擇卡片的主題顏色（默認藍色）
- **📏 字體大小**：調整標題和內容的字體大小
- **✏️ 即時編輯**：生成後可直接點擊標題或內容編輯

### 4. 執行擷取
- 點擊「擷取截圖」開始批次處理
- 系統會顯示處理進度和完成數量

### 5. 編輯卡片（僅模式 3）
- **編輯標題**：點擊任一卡片的標題區域直接編輯
- **隱藏標題**：清空標題內容，標題區域和橫線會自動隱藏
- **編輯內容**：點擊字幕區域編輯文字內容
- **更新卡片**：點擊「🔄 更新卡片」應用變更

### 6. 下載結果
- **選擇圖片**：點擊想要的截圖進行選擇（會出現藍色邊框）
- **單張下載**：選擇一張圖片時直接下載
- **批次下載**：選擇多張圖片時自動打包成 ZIP
- **一鍵全部打包**：點擊綠色「📦 一鍵打包全部圖片 (ZIP)」按鈕

## 🛠 技術架構

### 前端技術
- **HTML5**：`<video>` 元素播放影片，`<canvas>` 進行截圖
- **CSS3**：Flexbox 佈局，響應式設計
- **Vanilla JavaScript**：無框架依賴

### 核心 API
- **Canvas API**：影片截圖和字幕渲染
- **File API**：檔案上傳和讀取
- **Blob API**：圖片資料處理

### 第三方庫
- **JSZip**：批次打包下載功能

## 📁 檔案結構

```
videoprintwithsubcutter/
├── index.html              # 主要網頁檔案
├── main.html               # 優化版網頁檔案（推薦使用）
├── style.css               # 樣式表
├── demo_notitle.html       # 功能演示頁面
├── test_mode3_working.html # 模式3測試頁面
├── README.md               # 專案說明文件
├── SPECIFICATION.md        # 詳細規格說明
└── testfile/               # 測試檔案目錄
    └── *.jpg              # 範例截圖檔案
```

### 主要檔案說明
- **main.html**：最新版本，包含所有功能和優化
- **index.html**：標準版本，穩定可靠
- **demo_notitle.html**：展示標題自定義功能的演示頁面

## 🎯 使用場景

### 教育應用
- **語言學習**：製作影片字幕學習卡片
- **課程筆記**：從教學影片擷取重點片段
- **字幕研究**：分析影片字幕內容

### 內容創作
- **社群媒體**：製作帶字幕的圖片內容
- **影片摘要**：快速產生影片重點截圖
- **學習資源**：製作視覺化學習材料
- **部落格文章**：使用模式3製作精美的內容卡片

## 💡 使用技巧

### 模式 3 最佳實踐
1. **標題設計**：使用簡潔有力的標題，避免過長
2. **色彩搭配**：選擇與內容主題相符的主題色彩
3. **內容編輯**：適當斷行讓文字更易讀
4. **批次處理**：先生成所有卡片，再統一編輯標題

### 效能優化
- **檔案大小**：建議影片檔案控制在 200MB 以下
- **截圖間隔**：建議設定 5-10 秒間隔，避免產生過多圖片
- **瀏覽器效能**：使用最新版 Chrome 或 Firefox 獲得最佳體驗

### 常見問題解決
1. **影片無法播放**：檢查檔案格式是否為 MP4/WebM
2. **字幕不同步**：確認字幕檔案編碼為 UTF-8
3. **下載失敗**：嘗試重新整理頁面或清除瀏覽器快取

## ⚙️ 進階設定

### 字幕樣式調整
- 字體大小會根據截圖尺寸和字幕長度自動調整
- 支援中文和英文字幕顯示
- 模式 1 提供黑色半透明背景提升可讀性

### 檔案命名規則 🆕
採用智慧命名系統，按生成順序自動編號：

#### 命名優先級
1. **有 SRT 檔案**：使用字幕檔名作為前綴
2. **只有影片檔案**：使用影片檔名作為前綴
3. **都無**：使用 "image" 作為前綴

#### 檔名格式
```
[前綴]_[順序編號].jpg
```

#### 範例
```bash
# 有SRT檔案 (my_subtitles.srt)
my_subtitles_01.jpg
my_subtitles_02.jpg
my_subtitles_03.jpg

# 只有影片檔案 (my_video.mp4)
my_video_01.jpg
my_video_02.jpg

# ZIP打包檔案
my_subtitles_選中圖片_2025-09-05.zip
```

#### 特色
- ✅ **順序編號**：01, 02, 03... (兩位數補零)
- ✅ **跳號處理**：跳過的截圖不影響編號順序
- ✅ **自動重置**：每次重新生成時編號從01開始
- ✅ **統一命名**：不受自定義標題影響，保持檔案順序

## 🔧 瀏覽器兼容性

- **Chrome** 60+
- **Firefox** 55+
- **Safari** 12+
- **Edge** 79+

*注意：需要現代瀏覽器支援 HTML5 Video 和 Canvas API*

## 📋 已知限制

1. **檔案大小**：受瀏覽器記憶體限制，建議影片檔案不超過 500MB
2. **跨域限制**：影片 URL 需支援 CORS
3. **字幕格式**：目前僅支援 SRT 和 VTT 格式

## 🚧 未來規劃

### 近期更新
- [x] ✅ 模式3文章卡片樣式（已完成）
- [x] ✅ 即時編輯標題功能（已完成）
- [x] ✅ 智慧檔案命名系統（已完成）
- [x] ✅ 一鍵ZIP打包下載（已完成）

### 未來規劃
- [ ] 支援 YouTube API 整合
- [ ] 多語言字幕切換功能
- [ ] 更多卡片樣式模板
- [ ] 批次時間點設定
- [ ] 影片 URL 直接載入功能
- [ ] 匯出為 PDF 格式
- [ ] 字幕翻譯功能整合

## 📝 授權

本專案採用 MIT 授權條款。

## 🤝 貢獻

歡迎提交 Issue 和 Pull Request 來改善這個專案！