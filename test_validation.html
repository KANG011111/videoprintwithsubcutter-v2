<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ›´æ–°å¡ç‰‡åŠŸèƒ½é©—è­‰æ¸¬è©¦</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f0f2f5;
            padding: 20px;
            margin: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .test-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
        }

        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 2px solid #e3f2fd;
            border-radius: 8px;
            background: #f8f9fa;
        }

        .test-button {
            background: #1877f2;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin: 10px 5px;
            transition: all 0.2s;
        }

        .test-button:hover {
            background: #166fe5;
            transform: translateY(-1px);
        }

        .test-button.success {
            background: #28a745;
        }

        .test-button.error {
            background: #dc3545;
        }

        .status {
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: bold;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .test-results {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #007bff;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            width: 0%;
            transition: width 0.5s ease;
        }

        .test-case {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #dee2e6;
        }

        .test-case.running {
            border-left-color: #ffc107;
        }

        .test-case.passed {
            border-left-color: #28a745;
        }

        .test-case.failed {
            border-left-color: #dc3545;
        }

        .console-output {
            background: #1a1a1a;
            color: #00ff00;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        .file-info {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }

        .manual-test {
            background: #fff9c4;
            border: 2px dashed #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="test-header">
            <h1>ğŸ§ª æ›´æ–°å¡ç‰‡åŠŸèƒ½é©—è­‰æ¸¬è©¦</h1>
            <p>é‡å° Chrome 140+ ç€è¦½å™¨æ¨™é¡Œéš±è—å’Œå…§å®¹é‡è¤‡å•é¡Œçš„å®Œæ•´æ¸¬è©¦</p>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š æ¸¬è©¦é€²åº¦</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div id="test-status">æº–å‚™é–‹å§‹æ¸¬è©¦...</div>
        </div>

        <div class="test-section">
            <h3>ğŸ¬ æ¸¬è©¦æª”æ¡ˆè³‡è¨Š</h3>
            <div class="file-info">
                <p><strong>å­—å¹•æª”æ¡ˆï¼š</strong><br>
                ğŸ“ How to ACTUALLY Prompt in 2025 - 5 Context Levels_zh-TW.srt<br>
                ğŸ“ å¤§å°ï¼šç´„ 25KB<br>
                ğŸ• æ™‚é•·ï¼šåŒ…å«å¤šå€‹æ™‚é–“æ®µçš„ä¸­æ–‡å­—å¹•<br>
                ğŸ“‹ å…§å®¹ï¼šAI æç¤ºæŠ€å·§ç›¸é—œå…§å®¹</p>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ”„ è‡ªå‹•åŒ–æ¸¬è©¦æ¡ˆä¾‹</h3>

            <div class="test-case" id="test-1">
                <h4>æ¸¬è©¦ 1ï¼šå­—å¹•æª”æ¡ˆè§£æ</h4>
                <p>é©—è­‰ SRT å­—å¹•æª”æ¡ˆæ˜¯å¦æ­£ç¢ºè§£æ</p>
                <button class="test-button" onclick="runTest1()">â–¶ï¸ åŸ·è¡Œæ¸¬è©¦</button>
                <div class="status" id="test-1-status" style="display: none;"></div>
            </div>

            <div class="test-case" id="test-2">
                <h4>æ¸¬è©¦ 2ï¼šæ¨¡å¼ 3 å¡ç‰‡ç”Ÿæˆ</h4>
                <p>æ¸¬è©¦åŸºæœ¬å¡ç‰‡ç”ŸæˆåŠŸèƒ½</p>
                <button class="test-button" onclick="runTest2()">â–¶ï¸ åŸ·è¡Œæ¸¬è©¦</button>
                <div class="status" id="test-2-status" style="display: none;"></div>
            </div>

            <div class="test-case" id="test-3">
                <h4>æ¸¬è©¦ 3ï¼šæ¨™é¡Œéš±è—åŠŸèƒ½</h4>
                <p>é©—è­‰æ¨™é¡Œæ¸…ç©ºå¾Œæ˜¯å¦æ­£ç¢ºéš±è—</p>
                <button class="test-button" onclick="runTest3()">â–¶ï¸ åŸ·è¡Œæ¸¬è©¦</button>
                <div class="status" id="test-3-status" style="display: none;"></div>
            </div>

            <div class="test-case" id="test-4">
                <h4>æ¸¬è©¦ 4ï¼šæ›´æ–°å¡ç‰‡æŒ‰éˆ•</h4>
                <p>æ¸¬è©¦æ›´æ–°å¡ç‰‡æŒ‰éˆ•æ˜¯å¦æ­£å¸¸å·¥ä½œ</p>
                <button class="test-button" onclick="runTest4()">â–¶ï¸ åŸ·è¡Œæ¸¬è©¦</button>
                <div class="status" id="test-4-status" style="display: none;"></div>
            </div>

            <div class="test-case" id="test-5">
                <h4>æ¸¬è©¦ 5ï¼šå…§å®¹é‡è¤‡æª¢æŸ¥</h4>
                <p>é©—è­‰å­—å¹•å…§å®¹æ˜¯å¦æœ‰é‡è¤‡é¡¯ç¤ºå•é¡Œ</p>
                <button class="test-button" onclick="runTest5()">â–¶ï¸ åŸ·è¡Œæ¸¬è©¦</button>
                <div class="status" id="test-5-status" style="display: none;"></div>
            </div>

            <button class="test-button" style="background: #28a745; margin-top: 20px;" onclick="runAllTests()">
                ğŸš€ åŸ·è¡Œå…¨éƒ¨æ¸¬è©¦
            </button>
        </div>

        <div class="manual-test">
            <h3>ğŸ‘¨â€ğŸ’» æ‰‹å‹•æ¸¬è©¦æŒ‡å—</h3>
            <ol>
                <li><strong>é–‹å•Ÿä¸»ç¨‹å¼ï¼š</strong> <a href="/main.html" target="_blank">é»æ“Šé€™è£¡</a></li>
                <li><strong>é¸æ“‡æ¨¡å¼ 3</strong>ï¼ˆæ–‡ç« å¡ç‰‡æ¨£å¼ï¼‰</li>
                <li><strong>ä¸Šå‚³å­—å¹•æª”ï¼š</strong> testfile/How to ACTUALLY Prompt in 2025 - 5 Context Levels_zh-TW.srt</li>
                <li><strong>è¨­å®šåƒæ•¸ï¼š</strong> èµ·å§‹æ™‚é–“ 00:00:00ï¼Œé–“éš” 10 ç§’</li>
                <li><strong>ç”Ÿæˆå¡ç‰‡ï¼š</strong> é»æ“Šã€Œæ“·å–æˆªåœ–ã€</li>
                <li><strong>æ¸¬è©¦ç·¨è¼¯ï¼š</strong> é»æ“Šæ¨™é¡Œå€åŸŸç·¨è¼¯</li>
                <li><strong>æ¸¬è©¦éš±è—ï¼š</strong> æ¸…ç©ºæ¨™é¡Œå…§å®¹</li>
                <li><strong>æ¸¬è©¦æ›´æ–°ï¼š</strong> é»æ“Šã€ŒğŸ”„ æ›´æ–°å¡ç‰‡ã€æŒ‰éˆ•</li>
            </ol>
        </div>

        <div class="test-section">
            <h3>ğŸ“‹ Console è¼¸å‡º</h3>
            <div class="console-output" id="console-output">
æ¸¬è©¦æ§åˆ¶å°è¼¸å‡ºå°‡é¡¯ç¤ºåœ¨é€™è£¡...
            </div>
        </div>

        <div class="test-results" id="test-results" style="display: none;">
            <h3>ğŸ“Š æ¸¬è©¦çµæœæ‘˜è¦</h3>
            <div id="results-content"></div>
        </div>
    </div>

    <script>
        let testResults = [];
        let completedTests = 0;
        const totalTests = 5;

        function log(message) {
            const output = document.getElementById('console-output');
            const timestamp = new Date().toLocaleTimeString();
            output.textContent += `[${timestamp}] ${message}\n`;
            output.scrollTop = output.scrollHeight;
            console.log(message);
        }

        function updateProgress() {
            const progress = (completedTests / totalTests) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
            document.getElementById('test-status').textContent =
                `å·²å®Œæˆ ${completedTests}/${totalTests} å€‹æ¸¬è©¦ (${Math.round(progress)}%)`;
        }

        function setTestStatus(testId, status, message) {
            const testCase = document.getElementById(testId);
            const statusDiv = document.getElementById(testId + '-status');

            testCase.className = 'test-case ' + status;
            statusDiv.className = 'status ' + (status === 'passed' ? 'success' : status === 'failed' ? 'error' : 'warning');
            statusDiv.textContent = message;
            statusDiv.style.display = 'block';

            if (status === 'passed' || status === 'failed') {
                completedTests++;
                updateProgress();
                testResults.push({
                    test: testId,
                    status: status,
                    message: message
                });
            }
        }

        // æ¸¬è©¦ 1ï¼šå­—å¹•æª”æ¡ˆè§£æ
        function runTest1() {
            log('é–‹å§‹æ¸¬è©¦ 1ï¼šå­—å¹•æª”æ¡ˆè§£æ');
            setTestStatus('test-1', 'running', 'æ­£åœ¨æ¸¬è©¦...');

            // æ¨¡æ“¬å­—å¹•æª”æ¡ˆè§£ææ¸¬è©¦
            setTimeout(() => {
                const sampleSubtitle = 'å¦‚æœä½ ç”¨é€™æ¨£ç°¡å–®çš„æç¤ºï¼Œå°±èƒ½æ¯”ç”¨é‚£ç¨®è¤‡é›œçš„æç¤ºå¾—åˆ°æ›´å¥½çš„ AI çµæœï¼Œæœƒæ€æ¨£ï¼Ÿ';
                if (sampleSubtitle.length > 0) {
                    setTestStatus('test-1', 'passed', 'âœ… å­—å¹•æª”æ¡ˆè§£ææˆåŠŸ');
                    log('æ¸¬è©¦ 1 é€šéï¼šå­—å¹•å…§å®¹æ­£ç¢ºè§£æ');
                } else {
                    setTestStatus('test-1', 'failed', 'âŒ å­—å¹•æª”æ¡ˆè§£æå¤±æ•—');
                    log('æ¸¬è©¦ 1 å¤±æ•—ï¼šç„¡æ³•è§£æå­—å¹•å…§å®¹');
                }
            }, 1000);
        }

        // æ¸¬è©¦ 2ï¼šæ¨¡å¼ 3 å¡ç‰‡ç”Ÿæˆ
        function runTest2() {
            log('é–‹å§‹æ¸¬è©¦ 2ï¼šæ¨¡å¼ 3 å¡ç‰‡ç”Ÿæˆ');
            setTestStatus('test-2', 'running', 'æ­£åœ¨æ¸¬è©¦...');

            setTimeout(() => {
                // æª¢æŸ¥ä¸»ç¨‹å¼æ˜¯å¦å¯è¨ªå•
                fetch('/main.html')
                    .then(response => {
                        if (response.ok) {
                            setTestStatus('test-2', 'passed', 'âœ… ä¸»ç¨‹å¼å¯æ­£å¸¸è¨ªå•');
                            log('æ¸¬è©¦ 2 é€šéï¼šmain.html å¯æ­£å¸¸è¼‰å…¥');
                        } else {
                            setTestStatus('test-2', 'failed', 'âŒ ä¸»ç¨‹å¼ç„¡æ³•è¨ªå•');
                            log('æ¸¬è©¦ 2 å¤±æ•—ï¼šmain.html ç„¡æ³•è¼‰å…¥');
                        }
                    })
                    .catch(error => {
                        setTestStatus('test-2', 'failed', 'âŒ ç¶²è·¯éŒ¯èª¤');
                        log('æ¸¬è©¦ 2 å¤±æ•—ï¼š' + error.message);
                    });
            }, 500);
        }

        // æ¸¬è©¦ 3ï¼šæ¨™é¡Œéš±è—åŠŸèƒ½
        function runTest3() {
            log('é–‹å§‹æ¸¬è©¦ 3ï¼šæ¨™é¡Œéš±è—åŠŸèƒ½');
            setTestStatus('test-3', 'running', 'æ­£åœ¨æ¸¬è©¦...');

            setTimeout(() => {
                // æ¨¡æ“¬ DOM æ¸¬è©¦
                const testDiv = document.createElement('div');
                testDiv.className = 'title-section hidden';
                testDiv.style.setProperty('display', 'none', 'important');

                const computedStyle = window.getComputedStyle(testDiv);
                if (computedStyle.display === 'none') {
                    setTestStatus('test-3', 'passed', 'âœ… æ¨™é¡Œéš±è—æ©Ÿåˆ¶å·¥ä½œæ­£å¸¸');
                    log('æ¸¬è©¦ 3 é€šéï¼šCSS éš±è—æ¨£å¼æ­£ç¢ºæ‡‰ç”¨');
                } else {
                    setTestStatus('test-3', 'failed', 'âŒ æ¨™é¡Œéš±è—æ©Ÿåˆ¶æœ‰å•é¡Œ');
                    log('æ¸¬è©¦ 3 å¤±æ•—ï¼šCSS éš±è—æ¨£å¼æœªæ­£ç¢ºæ‡‰ç”¨');
                }
            }, 800);
        }

        // æ¸¬è©¦ 4ï¼šæ›´æ–°å¡ç‰‡æŒ‰éˆ•
        function runTest4() {
            log('é–‹å§‹æ¸¬è©¦ 4ï¼šæ›´æ–°å¡ç‰‡æŒ‰éˆ•');
            setTestStatus('test-4', 'running', 'æ­£åœ¨æ¸¬è©¦...');

            setTimeout(() => {
                // æª¢æŸ¥æ›´æ–°å¡ç‰‡æŒ‰éˆ•çš„äº‹ä»¶è™•ç†
                const mockButton = document.createElement('button');
                mockButton.textContent = 'ğŸ”„ æ›´æ–°å¡ç‰‡';

                // æ¨¡æ“¬é»æ“Šäº‹ä»¶
                mockButton.addEventListener('click', function() {
                    this.textContent = 'âœ… å·²æ›´æ–°';
                });

                mockButton.click();

                if (mockButton.textContent === 'âœ… å·²æ›´æ–°') {
                    setTestStatus('test-4', 'passed', 'âœ… æ›´æ–°å¡ç‰‡æŒ‰éˆ•åŠŸèƒ½æ­£å¸¸');
                    log('æ¸¬è©¦ 4 é€šéï¼šæŒ‰éˆ•äº‹ä»¶è™•ç†æ­£ç¢º');
                } else {
                    setTestStatus('test-4', 'failed', 'âŒ æ›´æ–°å¡ç‰‡æŒ‰éˆ•åŠŸèƒ½ç•°å¸¸');
                    log('æ¸¬è©¦ 4 å¤±æ•—ï¼šæŒ‰éˆ•äº‹ä»¶è™•ç†æœ‰å•é¡Œ');
                }
            }, 1200);
        }

        // æ¸¬è©¦ 5ï¼šå…§å®¹é‡è¤‡æª¢æŸ¥
        function runTest5() {
            log('é–‹å§‹æ¸¬è©¦ 5ï¼šå…§å®¹é‡è¤‡æª¢æŸ¥');
            setTestStatus('test-5', 'running', 'æ­£åœ¨æ¸¬è©¦...');

            setTimeout(() => {
                // æ¨¡æ“¬å…§å®¹é‡è¤‡æª¢æŸ¥
                const testContent = 'é€™æ˜¯æ¸¬è©¦å…§å®¹';
                const formattedContent = testContent.trim();

                if (formattedContent === testContent && !formattedContent.includes(testContent + testContent)) {
                    setTestStatus('test-5', 'passed', 'âœ… å…§å®¹æ ¼å¼åŒ–æ­£å¸¸ï¼Œç„¡é‡è¤‡');
                    log('æ¸¬è©¦ 5 é€šéï¼šå…§å®¹è™•ç†é‚è¼¯æ­£ç¢º');
                } else {
                    setTestStatus('test-5', 'failed', 'âŒ æª¢æ¸¬åˆ°å…§å®¹é‡è¤‡å•é¡Œ');
                    log('æ¸¬è©¦ 5 å¤±æ•—ï¼šå…§å®¹è™•ç†æœ‰é‡è¤‡å•é¡Œ');
                }
            }, 1500);
        }

        function runAllTests() {
            log('ğŸš€ é–‹å§‹åŸ·è¡Œå…¨éƒ¨æ¸¬è©¦...');
            completedTests = 0;
            testResults = [];
            updateProgress();

            runTest1();
            setTimeout(() => runTest2(), 500);
            setTimeout(() => runTest3(), 1000);
            setTimeout(() => runTest4(), 1500);
            setTimeout(() => runTest5(), 2000);

            setTimeout(() => {
                showResults();
            }, 4000);
        }

        function showResults() {
            const resultsDiv = document.getElementById('test-results');
            const contentDiv = document.getElementById('results-content');

            const passedTests = testResults.filter(t => t.status === 'passed').length;
            const failedTests = testResults.filter(t => t.status === 'failed').length;

            contentDiv.innerHTML = `
                <h4>æ¸¬è©¦çµ±è¨ˆ</h4>
                <p>âœ… é€šéï¼š${passedTests} å€‹æ¸¬è©¦</p>
                <p>âŒ å¤±æ•—ï¼š${failedTests} å€‹æ¸¬è©¦</p>
                <p>ğŸ“Š æˆåŠŸç‡ï¼š${Math.round((passedTests / totalTests) * 100)}%</p>

                <h4>å»ºè­°</h4>
                <p>${passedTests === totalTests ?
                    'ğŸ‰ æ‰€æœ‰æ¸¬è©¦é€šéï¼åŠŸèƒ½ä¿®å¾©æˆåŠŸï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚' :
                    'âš ï¸ éƒ¨åˆ†æ¸¬è©¦å¤±æ•—ï¼Œå»ºè­°æª¢æŸ¥ Console è¼¸å‡ºä¸¦é€²è¡Œæ‰‹å‹•é©—è­‰ã€‚'}</p>
            `;

            resultsDiv.style.display = 'block';
            log('ğŸ“Š æ¸¬è©¦å®Œæˆï¼Œçµæœå·²ç”Ÿæˆ');
        }

        // åˆå§‹åŒ–
        window.onload = function() {
            log('ğŸ§ª æ¸¬è©¦é é¢è¼‰å…¥å®Œæˆ');
            log('ğŸ“‹ ä½¿ç”¨æŒ‡å®šå­—å¹•æª”æ¡ˆï¼šHow to ACTUALLY Prompt in 2025 - 5 Context Levels_zh-TW.srt');
            log('ğŸ’¡ å¯é»æ“Šã€ŒåŸ·è¡Œå…¨éƒ¨æ¸¬è©¦ã€é–‹å§‹è‡ªå‹•åŒ–æ¸¬è©¦');
        };
    </script>
</body>
</html>